#!/bin/sh

bat()
{
	BATPATH=/sys/class/power_supply/BAT0
	STATUS=$BATPATH/status
  BATFULL=$BATPATH/energy_full
  if [ -f $BATFULL ]; then
    BATNOW=$BATPATH/energy_now
  else
    BATFULL=$BATPATH/charge_full
    BATNOW=$BATPATH/charge_now
  fi
  bf=$(cat $BATFULL)
  bn=$(cat $BATNOW)
  stat=$(cat $STATUS)
	case $stat in
		Full)
			st="â™¥"
			;;
		Discharging)
			st="ðŸ”‹"
			;;
		Charging)
			st="âš¡"
			;;
	esac
	echo "#[bg=colour14]#[fg=colour0]â–’â–‘$st$(( 100 * $bn / $bf ))%"
}

mtime()
{
	mtime=$(date +'%H:%M:%S')
  echo "#[bg=colour14]#[fg=colour0]$mtime"
}

mday()
{
  mday=$(date +'%a %b %d')
  echo "#[bg=colour14]#[fg=colour0]$mday"
}

echo "â–‘`bat`â–‘â–’â–‘`mtime`â–‘â–’â–‘`mday`â–‘"
